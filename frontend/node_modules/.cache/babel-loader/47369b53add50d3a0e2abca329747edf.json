{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { fetchModel } from \"../../lib/fetchModelData\";\nimport { Link } from \"react-router-dom\";\nconst UserComments = ({\n  userId\n}) => {\n  _s();\n  const [commentsWithPhotos, setCommentsWithPhotos] = useState([]);\n  useEffect(() => {\n    fetchModel(`/photos/photosOfUser/${userId}`).then(data => {\n      const comments = [];\n      (data || []).forEach(photo => {\n        photo.comments.forEach(comment => {\n          if (comment.user._id === userId) {\n            comments.push({\n              ...comment,\n              photo\n            });\n          }\n        });\n      });\n      setCommentsWithPhotos(comments);\n    });\n  }, [userId]);\n  const handleImageError = e => {\n    e.target.src = \"https://via.placeholder.com/100\";\n  };\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h2\", null, \"Bình luận của người dùng\"), commentsWithPhotos.length === 0 ? /*#__PURE__*/React.createElement(\"p\", null, \"Không có bình luận nào.\") : commentsWithPhotos.map(comment => /*#__PURE__*/React.createElement(\"div\", {\n    key: comment._id,\n    style: {\n      marginBottom: \"20px\"\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/photos/${comment.photo.user_id}`\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: `/images/${comment.photo.file_name}`,\n    alt: \"Thumbnail\",\n    style: {\n      width: \"100px\"\n    },\n    onError: handleImageError\n  })), /*#__PURE__*/React.createElement(\"p\", null, `${comment.comment} - (${new Date(comment.date_time).toLocaleString()})`))));\n};\n_s(UserComments, \"Qan9cwGsxFI4UfalktK5LrniCuA=\");\n_c = UserComments;\nexport default UserComments;\nvar _c;\n$RefreshReg$(_c, \"UserComments\");","map":{"version":3,"names":["React","useState","useEffect","fetchModel","Link","UserComments","userId","_s","commentsWithPhotos","setCommentsWithPhotos","then","data","comments","forEach","photo","comment","user","_id","push","handleImageError","e","target","src","createElement","length","map","key","style","marginBottom","to","user_id","file_name","alt","width","onError","Date","date_time","toLocaleString","_c","$RefreshReg$"],"sources":["I:/CODE/LTW/TH3/photo-sharing-app/frontend/src/components/UserComments/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { fetchModel } from \"../../lib/fetchModelData\";\nimport { Link } from \"react-router-dom\";\n\nconst UserComments = ({ userId }) => {\n  const [commentsWithPhotos, setCommentsWithPhotos] = useState([]);\n\n  useEffect(() => {\n    fetchModel(`/photos/photosOfUser/${userId}`).then((data) => {\n      const comments = [];\n      (data || []).forEach((photo) => {\n        photo.comments.forEach((comment) => {\n          if (comment.user._id === userId) {\n            comments.push({ ...comment, photo });\n          }\n        });\n      });\n      setCommentsWithPhotos(comments);\n    });\n  }, [userId]);\n\n  const handleImageError = (e) => {\n    e.target.src = \"https://via.placeholder.com/100\";\n  };\n\n  return React.createElement(\n    \"div\",\n    null,\n    React.createElement(\"h2\", null, \"Bình luận của người dùng\"),\n    commentsWithPhotos.length === 0\n      ? React.createElement(\"p\", null, \"Không có bình luận nào.\")\n      : commentsWithPhotos.map((comment) =>\n          React.createElement(\n            \"div\",\n            { key: comment._id, style: { marginBottom: \"20px\" } },\n            React.createElement(\n              Link,\n              { to: `/photos/${comment.photo.user_id}` },\n              React.createElement(\"img\", {\n                src: `/images/${comment.photo.file_name}`,\n                alt: \"Thumbnail\",\n                style: { width: \"100px\" },\n                onError: handleImageError,\n              })\n            ),\n            React.createElement(\n              \"p\",\n              null,\n              `${comment.comment} - (${new Date(\n                comment.date_time\n              ).toLocaleString()})`\n            )\n          )\n        )\n  );\n};\n\nexport default UserComments;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,UAAU,QAAQ,0BAA0B;AACrD,SAASC,IAAI,QAAQ,kBAAkB;AAEvC,MAAMC,YAAY,GAAGA,CAAC;EAAEC;AAAO,CAAC,KAAK;EAAAC,EAAA;EACnC,MAAM,CAACC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAEhEC,SAAS,CAAC,MAAM;IACdC,UAAU,CAAC,wBAAwBG,MAAM,EAAE,CAAC,CAACI,IAAI,CAAEC,IAAI,IAAK;MAC1D,MAAMC,QAAQ,GAAG,EAAE;MACnB,CAACD,IAAI,IAAI,EAAE,EAAEE,OAAO,CAAEC,KAAK,IAAK;QAC9BA,KAAK,CAACF,QAAQ,CAACC,OAAO,CAAEE,OAAO,IAAK;UAClC,IAAIA,OAAO,CAACC,IAAI,CAACC,GAAG,KAAKX,MAAM,EAAE;YAC/BM,QAAQ,CAACM,IAAI,CAAC;cAAE,GAAGH,OAAO;cAAED;YAAM,CAAC,CAAC;UACtC;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;MACFL,qBAAqB,CAACG,QAAQ,CAAC;IACjC,CAAC,CAAC;EACJ,CAAC,EAAE,CAACN,MAAM,CAAC,CAAC;EAEZ,MAAMa,gBAAgB,GAAIC,CAAC,IAAK;IAC9BA,CAAC,CAACC,MAAM,CAACC,GAAG,GAAG,iCAAiC;EAClD,CAAC;EAED,oBAAOtB,KAAK,CAACuB,aAAa,CACxB,KAAK,EACL,IAAI,eACJvB,KAAK,CAACuB,aAAa,CAAC,IAAI,EAAE,IAAI,EAAE,0BAA0B,CAAC,EAC3Df,kBAAkB,CAACgB,MAAM,KAAK,CAAC,gBAC3BxB,KAAK,CAACuB,aAAa,CAAC,GAAG,EAAE,IAAI,EAAE,yBAAyB,CAAC,GACzDf,kBAAkB,CAACiB,GAAG,CAAEV,OAAO,iBAC7Bf,KAAK,CAACuB,aAAa,CACjB,KAAK,EACL;IAAEG,GAAG,EAAEX,OAAO,CAACE,GAAG;IAAEU,KAAK,EAAE;MAAEC,YAAY,EAAE;IAAO;EAAE,CAAC,eACrD5B,KAAK,CAACuB,aAAa,CACjBnB,IAAI,EACJ;IAAEyB,EAAE,EAAE,WAAWd,OAAO,CAACD,KAAK,CAACgB,OAAO;EAAG,CAAC,eAC1C9B,KAAK,CAACuB,aAAa,CAAC,KAAK,EAAE;IACzBD,GAAG,EAAE,WAAWP,OAAO,CAACD,KAAK,CAACiB,SAAS,EAAE;IACzCC,GAAG,EAAE,WAAW;IAChBL,KAAK,EAAE;MAAEM,KAAK,EAAE;IAAQ,CAAC;IACzBC,OAAO,EAAEf;EACX,CAAC,CACH,CAAC,eACDnB,KAAK,CAACuB,aAAa,CACjB,GAAG,EACH,IAAI,EACJ,GAAGR,OAAO,CAACA,OAAO,OAAO,IAAIoB,IAAI,CAC/BpB,OAAO,CAACqB,SACV,CAAC,CAACC,cAAc,CAAC,CAAC,GACpB,CACF,CACF,CACN,CAAC;AACH,CAAC;AAAC9B,EAAA,CAnDIF,YAAY;AAAAiC,EAAA,GAAZjC,YAAY;AAqDlB,eAAeA,YAAY;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}