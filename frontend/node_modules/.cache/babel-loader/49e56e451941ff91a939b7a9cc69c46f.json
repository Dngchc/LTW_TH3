{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { fetchModel } from \"../../lib/fetchModelData\";\nconst UserPhotos = ({\n  userId\n}) => {\n  _s();\n  const [photos, setPhotos] = useState([]);\n  useEffect(() => {\n    fetchModel(`/photos/photosOfUser/${userId}`).then(data => setPhotos(data || []));\n  }, [userId]);\n  const handleImageError = e => {\n    e.target.src = \"https://via.placeholder.com/200\";\n  };\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h2\", null, \"Ảnh của người dùng\"), photos.length === 0 ? /*#__PURE__*/React.createElement(\"p\", null, \"Không có ảnh nào.\") : photos.map(photo => /*#__PURE__*/React.createElement(\"div\", {\n    key: photo._id,\n    style: {\n      marginBottom: \"20px\"\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: `/images/${photo.file_name}`,\n    alt: \"User photo\",\n    style: {\n      width: \"200px\"\n    },\n    onError: handleImageError\n  }), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"strong\", null, \"Ngày đăng: \"), new Date(photo.date_time).toLocaleString()), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"strong\", null, \"Bình luận:\")), photo.comments.length === 0 ? /*#__PURE__*/React.createElement(\"p\", null, \"Không có bình luận.\") : /*#__PURE__*/React.createElement(\"ul\", null, photo.comments.map(comment => /*#__PURE__*/React.createElement(\"li\", {\n    key: comment._id\n  }, `${comment.comment} - `, /*#__PURE__*/React.createElement(\"strong\", null, `${comment.user.first_name} ${comment.user.last_name}`), ` (${new Date(comment.date_time).toLocaleString()})`))))));\n};\n_s(UserPhotos, \"rNJeiEBnoDDbCNHI2MVPxiP450E=\");\n_c = UserPhotos;\nexport default UserPhotos;\nvar _c;\n$RefreshReg$(_c, \"UserPhotos\");","map":{"version":3,"names":["React","useState","useEffect","fetchModel","UserPhotos","userId","_s","photos","setPhotos","then","data","handleImageError","e","target","src","createElement","length","map","photo","key","_id","style","marginBottom","file_name","alt","width","onError","Date","date_time","toLocaleString","comments","comment","user","first_name","last_name","_c","$RefreshReg$"],"sources":["I:/CODE/LTW/TH3/photo-sharing-app/frontend/src/components/UserPhotos/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { fetchModel } from \"../../lib/fetchModelData\";\n\nconst UserPhotos = ({ userId }) => {\n  const [photos, setPhotos] = useState([]);\n\n  useEffect(() => {\n    fetchModel(`/photos/photosOfUser/${userId}`).then((data) =>\n      setPhotos(data || [])\n    );\n  }, [userId]);\n\n  const handleImageError = (e) => {\n    e.target.src = \"https://via.placeholder.com/200\";\n  };\n\n  return React.createElement(\n    \"div\",\n    null,\n    React.createElement(\"h2\", null, \"Ảnh của người dùng\"),\n    photos.length === 0\n      ? React.createElement(\"p\", null, \"Không có ảnh nào.\")\n      : photos.map((photo) =>\n          React.createElement(\n            \"div\",\n            { key: photo._id, style: { marginBottom: \"20px\" } },\n            React.createElement(\"img\", {\n              src: `/images/${photo.file_name}`,\n              alt: \"User photo\",\n              style: { width: \"200px\" },\n              onError: handleImageError,\n            }),\n            React.createElement(\n              \"p\",\n              null,\n              React.createElement(\"strong\", null, \"Ngày đăng: \"),\n              new Date(photo.date_time).toLocaleString()\n            ),\n            React.createElement(\n              \"p\",\n              null,\n              React.createElement(\"strong\", null, \"Bình luận:\")\n            ),\n            photo.comments.length === 0\n              ? React.createElement(\"p\", null, \"Không có bình luận.\")\n              : React.createElement(\n                  \"ul\",\n                  null,\n                  photo.comments.map((comment) =>\n                    React.createElement(\n                      \"li\",\n                      { key: comment._id },\n                      `${comment.comment} - `,\n                      React.createElement(\n                        \"strong\",\n                        null,\n                        `${comment.user.first_name} ${comment.user.last_name}`\n                      ),\n                      ` (${new Date(comment.date_time).toLocaleString()})`\n                    )\n                  )\n                )\n          )\n        )\n  );\n};\n\nexport default UserPhotos;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,UAAU,QAAQ,0BAA0B;AAErD,MAAMC,UAAU,GAAGA,CAAC;EAAEC;AAAO,CAAC,KAAK;EAAAC,EAAA;EACjC,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAExCC,SAAS,CAAC,MAAM;IACdC,UAAU,CAAC,wBAAwBE,MAAM,EAAE,CAAC,CAACI,IAAI,CAAEC,IAAI,IACrDF,SAAS,CAACE,IAAI,IAAI,EAAE,CACtB,CAAC;EACH,CAAC,EAAE,CAACL,MAAM,CAAC,CAAC;EAEZ,MAAMM,gBAAgB,GAAIC,CAAC,IAAK;IAC9BA,CAAC,CAACC,MAAM,CAACC,GAAG,GAAG,iCAAiC;EAClD,CAAC;EAED,oBAAOd,KAAK,CAACe,aAAa,CACxB,KAAK,EACL,IAAI,eACJf,KAAK,CAACe,aAAa,CAAC,IAAI,EAAE,IAAI,EAAE,oBAAoB,CAAC,EACrDR,MAAM,CAACS,MAAM,KAAK,CAAC,gBACfhB,KAAK,CAACe,aAAa,CAAC,GAAG,EAAE,IAAI,EAAE,mBAAmB,CAAC,GACnDR,MAAM,CAACU,GAAG,CAAEC,KAAK,iBACflB,KAAK,CAACe,aAAa,CACjB,KAAK,EACL;IAAEI,GAAG,EAAED,KAAK,CAACE,GAAG;IAAEC,KAAK,EAAE;MAAEC,YAAY,EAAE;IAAO;EAAE,CAAC,eACnDtB,KAAK,CAACe,aAAa,CAAC,KAAK,EAAE;IACzBD,GAAG,EAAE,WAAWI,KAAK,CAACK,SAAS,EAAE;IACjCC,GAAG,EAAE,YAAY;IACjBH,KAAK,EAAE;MAAEI,KAAK,EAAE;IAAQ,CAAC;IACzBC,OAAO,EAAEf;EACX,CAAC,CAAC,eACFX,KAAK,CAACe,aAAa,CACjB,GAAG,EACH,IAAI,eACJf,KAAK,CAACe,aAAa,CAAC,QAAQ,EAAE,IAAI,EAAE,aAAa,CAAC,EAClD,IAAIY,IAAI,CAACT,KAAK,CAACU,SAAS,CAAC,CAACC,cAAc,CAAC,CAC3C,CAAC,eACD7B,KAAK,CAACe,aAAa,CACjB,GAAG,EACH,IAAI,eACJf,KAAK,CAACe,aAAa,CAAC,QAAQ,EAAE,IAAI,EAAE,YAAY,CAClD,CAAC,EACDG,KAAK,CAACY,QAAQ,CAACd,MAAM,KAAK,CAAC,gBACvBhB,KAAK,CAACe,aAAa,CAAC,GAAG,EAAE,IAAI,EAAE,qBAAqB,CAAC,gBACrDf,KAAK,CAACe,aAAa,CACjB,IAAI,EACJ,IAAI,EACJG,KAAK,CAACY,QAAQ,CAACb,GAAG,CAAEc,OAAO,iBACzB/B,KAAK,CAACe,aAAa,CACjB,IAAI,EACJ;IAAEI,GAAG,EAAEY,OAAO,CAACX;EAAI,CAAC,EACpB,GAAGW,OAAO,CAACA,OAAO,KAAK,eACvB/B,KAAK,CAACe,aAAa,CACjB,QAAQ,EACR,IAAI,EACJ,GAAGgB,OAAO,CAACC,IAAI,CAACC,UAAU,IAAIF,OAAO,CAACC,IAAI,CAACE,SAAS,EACtD,CAAC,EACD,KAAK,IAAIP,IAAI,CAACI,OAAO,CAACH,SAAS,CAAC,CAACC,cAAc,CAAC,CAAC,GACnD,CACF,CACF,CACN,CACF,CACN,CAAC;AACH,CAAC;AAACvB,EAAA,CA9DIF,UAAU;AAAA+B,EAAA,GAAV/B,UAAU;AAgEhB,eAAeA,UAAU;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}